# ðŸ€ High School Basketball Scorebug
An HTML Scoreboard System for use with OBS
### Hybrid OCR Automation + Manual Control + Live Ticker

A professional, broadcast-ready HTML scorebug designed for use with OBS Studio. This system offers a hybrid workflow: use **Scoreboard OCR** for fully automated data integration, or use the included **Control Dashboard** for manual scoring and live configuration.

[Scoreboard Preview]

https://www.youtube.com/watch?v=_Wrxi70f71Q&t=7327s

## âœ¨ Features
* **Hybrid Data Source:** Seamlessly switches between automated OCR data and manual input.
* **Manual Control Dashboard:** A browser-based interface (`control.html`) to control the clock, scores, fouls, and game configuration via OBS WebSockets.
* **Live Ticker:** Optional PowerShell script scrapes **Skordle** to display scrolling scores for other games in your class.
* **Live Configuration:** Change team names, logos, records, and colors instantly via the dashboard or JSON.
* **Engagement Tools:** Automated "Subscribe" popup for YouTube and rotating info bar (Quarter/Game Title).
* **Smart Logic:** Automatically calculates "BONUS" status based on foul counts and highlights the leading score.

---

## ðŸ“‚ File Overview

| File | Description |
| :--- | :--- |
| **`overlay.html`** | **The Source.** Add this to OBS as a Browser Source. It handles all graphics, animations, and logic. |
| **`control.html`** | **The Controller.** Open in Chrome/Edge to manually score the game and edit team names, logos, scoreboard colors, team records, etc. |
| **`gameconfig.json`** | **The Settings.** Stores persistent data like team names, records, colors, and logo paths. |
| **`skordle.ps1`** | **The Scraper.** A PowerShell script that pulls scores from skordle for the ticker. |
| **`SkordleScores.csv`** | **The Database.** Generated by the script; the overlay reads this file to populate the ticker. |
| **`obs-websocket.min.js`** | **The Library.** Required file to allow the HTML files to talk to OBS. |
| **`chromedriver/`** | **The Driver Folder.** Must contain `chromedriver.exe`. Required for the PowerShell script to work. |

---

## ðŸš€ Installation & Setup

### 1. Download Dependencies
This system relies on the **OBS WebSocket JavaScript** library. You must download this file into your scoreboard folder.

**The Easiest Way (PowerShell):**
1.  Open the folder where you extracted these files.
2.  Right-click empty space > **Open in Terminal**.
3.  Paste this command and hit Enter:
    ```powershell
    Invoke-WebRequest -Uri "[https://cdn.jsdelivr.net/npm/obs-websocket-js@5.0.7/dist/obs-ws.global.min.js](https://cdn.jsdelivr.net/npm/obs-websocket-js@5.0.7/dist/obs-ws.global.min.js)" -OutFile "obs-websocket.min.js"
    ```

### 2. Configure OBS Studio
To allow the **Control Dashboard** to talk to the **Overlay**, you must enable WebSockets in OBS.

1.  Open OBS Studio.
2.  Go to **Tools** > **WebSocket Server Settings**.
3.  Check **Enable WebSocket server**.
4.  Set **Server Port** to `4455`.
5.  Set **Server Password** to exactly: `ScoreboardRemote`
    * *Note: This password is hardcoded in the HTML files. If you change it here, you must edit `control.html` and `overlay.html` to match.*

### 3. Add the Overlay to OBS
1.  In OBS, add a new **Browser Source**.
2.  Name it "Scoreboard".
3.  Check **Local file** and browse to `overlay.html`.
4.  Set **Width** to `1920` and **Height** to `1080`.
5.  Check **Refresh browser when scene becomes active**.

---

## ðŸŽ® Scoring Methods (Choose One)

### Option A: Fully Automated (Scoreboard OCR)
This requires third-party software to read your physical stadium scoreboard via a camera.
* **Software:** [Scoreboard OCR](https://scoreboard-ocr.com)
* **Cost:** Approx. **$390/year** (Personal/One-PC license).
* **Setup:**
    1.  Set Output type to **HTTP Server**.
    2.  Set Port to **8080**.
    3.  Map your fields strictly to: `clock`, `period`, `home_score`, `away_score`, `home_fouls`, `away_fouls`.
* **Behavior:** The overlay polls this data 5 times per second.

### Option B: Manual Control (Free Failover)
Use the included dashboard to run the board yourself. This is also the **Failover** method; if you click a button here, it overrides the OCR for 10 seconds.

1.  Open `control.html` in a web browser (Chrome/Edge) on the same computer as OBS.
2.  Ensure the status indicator at the bottom says **"Connected to OBS"** (Green Dot).
3.  **Scoreboard Tab:**
    * **Clock:** Type a time (e.g., "8:00") or use the Green/Red Start/Stop buttons.
    * **Scores/Fouls:** Click buttons to increment.
    * *Note: This interface sends data directly to the overlay elements.*

---

## âš™ï¸ Configuration (Teams & Logos)

You can customize the scoreboard (Team Names, Logos, Colors) in two ways.

### Method 1: The Control Interface (Recommended)
1.  Open `control.html`.
2.  Click the **Game Setup & Logos** tab.
3.  Edit names, records, and colors live.
4.  Click **Browse** to select logo images from your computer.
5.  Click **Apply to Overlay** to instantly update the stream graphics.
6.  **âš ï¸ IMPORTANT:** To save these settings permanently, click **Download JSON**. This will download a new `gameconfig.json` file. You must **overwrite/replace** the existing file in your scoreboard folder with this new one. (Browsers cannot silently overwrite files for security reasons).

### Method 2: The Raw File
Edit `gameconfig.json` directly with Notepad. This is useful for setting up "default" values before a season starts.

---

## ðŸŽï¸ Setting up the Automated Ticker (Skordle)

The system includes a PowerShell script (`skordle.ps1`) that scrapes **Skordle.com** to find scores for Oklahoma high school sports. It writes these scores to `SkordleScores.csv`, which the overlay reads and scrolls at the bottom of the screen.

### ðŸš« How to Disable the Ticker
If you do **NOT** want the ticker to appear:
1.  Delete `skordle.ps1`.
2.  Delete `SkordleScores.csv`.
3.  **Result:** The overlay will automatically detect that the data file is missing and will hide the ticker bar completely.

### âœ… How to Enable & Configure the Ticker

#### 1. Acquire ChromeDriver
The scraping script requires a specific driver to interface with Google Chrome.
1.  Check your Chrome version (Three dots > Help > About Google Chrome).
2.  Visit the [Chrome for Testing availability dashboard](https://googlechromelabs.github.io/chrome-for-testing/).
3.  **Important:** Download the **`chromedriver`** binary (NOT `chrome`) for your version and OS (e.g., `win64`).
4.  Extract the `chromedriver.exe` file into a new folder named `chromedriver` inside your scoreboard directory (e.g., `C:\Scoreboard\chromedriver\chromedriver.exe`).

#### 2. Configure the Script Paths
1.  Right-click `skordle.ps1` and select **Edit** (or Open with Notepad).
2.  Update the `$driverPath` to point to your `chromedriver` folder.
3.  Update the `$outputFile` to point to where you want the CSV saved (usually the same folder).

#### 3. Change Sport or Class
By default, the script pulls "Class B-I" scores. To change this to another class (e.g., Class A, 2A, 6A):
1.  Go to [Skordle.com](https://skordle.com) and click **Scores**.
2.  Select your Sport (e.g., Boys Basketball).
3.  Right click your class and choose Copy Link Address, or similar wording depending on browser.
    * *Example:* `https://skordle.com/scores/3/83/Oklahoma_Class_B-I_Girls_Basketball_Scores?dateweek=2023-12-05&clubid=1`
4.  In the `skordle.ps1` file, look for the `$urls` block.
5.  Paste your new URL, but **replace the date** (`2023-12-05`) with the variable `$today`.
    * *Corrected Line:* `"Girls" = "[https://skordle.com/...Scores?dateweek=$today&clubid=1](https://skordle.com/scores/3/83/Oklahoma_Class_B-I_Girls_Basketball_Scores?dateweek=$today&clubid=1)"`
6.  Save the file.

#### 4. Run It
1.  Open PowerShell as Administrator and run:
    ```powershell
    Set-ExecutionPolicy Bypass -Scope CurrentUser -Force
    Install-Module Selenium
    ```
2.  Right-click `skordle.ps1` and select **Run with PowerShell**.
3.  If successful, `SkordleScores.csv` will be updated with live data.
4.  *Tip: Use Windows Task Scheduler to run this script every 5 minutes automatically to keep scores fresh.*
